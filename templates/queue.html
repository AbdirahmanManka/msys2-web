{% extends "layout.html" %}
{% block content %}

<div class="card mb-3">
  <div class="card-header">
    <h4 class="card-title">Incoming Package Updates</h4>
    <h6 class="card-subtitle mb-2 text-muted">
      Packages which have a newer version in the GIT
      repository than in the pacman repository
    </h6>
  </div>
  <div class="card-body">
    <p class="text-muted">This list is updated once per day</p>
    <table class="table  table-hover table-sm">
      <thead>
        <tr>
          <th>Package</th>
          <th>Repo Version</th>
          <th>Source Version</th>
        </tr>
      </thead>
      <tbody>
          {% for (name, s, repo_ver, src_ver) in outofdate %}
           <tr>
            {% if s %}
                <td><a href="{{ url_for('base', name=name) }}">{{ name }}</a></td>
                <td>{{ repo_ver }}</td>
                <td><a href="{{ s.source_url }}">{{ src_ver }}</a></td>
            {% else %}
                <td>{{ name }}</td>
                <td>{{ "-" }}</td>
                <td>{{ src_ver }}</td>
            {% endif %}
           </tr>
          {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="card mb-3">
  <div class="card-header">
    <h4 class="card-title">Pending Package Removals</h4>
    <h6 class="card-subtitle mb-2 text-muted">
      Packages which are in the pacman repository, but no
      longer in the GIT repository
    </h6>
  </div>
  <div class="card-body">
    <p class="text-muted">This list is updated once per day</p>
    <table class="table  table-hover table-sm">
      <thead>
        <tr>
          <th>Package</th>
        </tr>
      </thead>
      <tbody>
          {% for p in missing %}
           <tr>
            <td><a href="{{ package_url(p) }}">{{ p.name }}</a></td>
           </tr>
          {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
