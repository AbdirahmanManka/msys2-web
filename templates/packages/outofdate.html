{% extends "packages.html" %}
{% block inner_content %}

<div class="card mb-3">
  <div class="card-header">
    <h4 class="card-title">Outdated Packages</h4>
    <h6 class="card-subtitle mb-2 text-muted">
        All packages: {{ all_sources|length }} |
        Outdated packages: {{ to_update|length }} |
        Missing version info: {{ missing|length }}
    </h6>
  </div>
  <div class="card-body">

    <p class="text-muted">See the <a
    href="https://github.com/msys2/msys2/wiki/Creating-packages">the packaging
    guide</a> for how to package new upstream versions</p>

    <table class="table  table-hover table-sm">
      <thead>
        <tr>
          <th>Package</th>
          <th>MSYS2 Version</th>
          <th>Arch Linux Version</th>
          <th>Arch Linux Update Date</th>
        </tr>
      </thead>
      <tbody>
          {% for (s, myver, ver, url, date) in to_update %}
           <tr>
            <td><a href="{{ url_for('base', name=s.name) }}">{{ s.name }}</a></td>
            <td>{{ myver }}</td>
            <td><a href="{{ url }}">{{ ver }}</a></td>
            <td>{{ date|timestamp }}</td>
           </tr>
          {% endfor %}
      </tbody>
    </table>

    <h6>Packages not found in Arch Linux:</h6>
    {% for (s, arch_name) in missing %}
        <a href="{{ url_for('base', name=s.name) }}">{{ s.name }}</a>
        <span class="text-muted">({{ arch_name }})</span>{{ ", " if not loop.last }}
    {% endfor %}

    <br>
    <br>
    <h6>Packages marked Windows only:</h6>
    {% for s in win_only %}
        <a href="{{ url_for('base', name=s.name) }}">{{ s.name }}</a>{{ ", " if not loop.last }}
    {% endfor %}
  </div>
</div>

{% endblock %}
